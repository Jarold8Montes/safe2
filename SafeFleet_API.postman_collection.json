{
    "info": {
        "_postman_id": "safe-fleet-api-collection",
        "name": "SafeFleet API",
        "description": "API completa para el sistema de monitoreo de flota SafeFleet",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "Health Check",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{baseUrl}}/health",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "health"
                    ]
                },
                "description": "Checks the health of the API. Returns 'status: ok' if the API is running."
            },
            "response": []
        },
        {
            "name": "Auth",
            "item": [
                {
                    "name": "Login",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "var jsonData = pm.response.json();",
                                    "if (jsonData.code === 200 && jsonData.data && jsonData.data.access_token) {",
                                    "    pm.environment.set(\"jwtToken\", jsonData.data.access_token);",
                                    "    console.log('JWT token saved:', jsonData.data.access_token);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"michi@safefleet.com\",\n    \"password\": \"$SafeFleet2025\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "description": "Authenticates a supervisor user and obtains a JWT token. The token is automatically saved to the 'jwtToken' environment variable."
                    },
                    "response": []
                },
                {
                    "name": "Refresh Token",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "var jsonData = pm.response.json();",
                                    "if (jsonData.code === 200 && jsonData.data && jsonData.data.access_token) {",
                                    "    pm.environment.set(\"jwtToken\", jsonData.data.access_token);",
                                    "    console.log('JWT token refreshed:', jsonData.data.access_token);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/refresh",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "refresh"
                            ]
                        },
                        "description": "Refreshes an expired JWT token. The new token is automatically saved to the 'jwtToken' environment variable."
                    },
                    "response": []
                },
                {
                    "name": "Logout",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/logout",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "logout"
                            ]
                        },
                        "description": "Invalidates the current JWT token, effectively logging out the user."
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Operadores",
            "item": [
                {
                    "name": "Get All Operadores",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/operadores?page=1&per_page=10&order_by=created_at&order=desc",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "operadores"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "per_page",
                                    "value": "10"
                                },
                                {
                                    "key": "order_by",
                                    "value": "created_at"
                                },
                                {
                                    "key": "order",
                                    "value": "desc"
                                }
                            ]
                        },
                        "description": "Retrieves a paginated list of all operators. Supports filtering, sorting, and pagination. Default per_page is 10."
                    },
                    "response": []
                },
                {
                    "name": "Get Operador by ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/operadores/OP-12345",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "operadores",
                                "OP-12345"
                            ]
                        },
                        "description": "Retrieves a single operator by their MongoDB _id or custom id_operador."
                    },
                    "response": []
                },
                {
                    "name": "Create Operador",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"id_operador\": \"OP-12345\",\n    \"nombre\": \"Juan Perez\",\n    \"foto_url\": \"http://example.com/juan.jpg\",\n    \"fecha_nacimiento\": \"1990-01-15\",\n    \"telefono\": \"+525512345678\",\n    \"factores_riesgo\": [\"Hipertensi√≥n arterial\"],\n    \"activo\": true,\n    \"genero\": \"masculino\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/v1/operadores",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "operadores"
                            ]
                        },
                        "description": "Creates a new operator. Replace example data with actual values. `id_operador` must be unique."
                    },
                    "response": []
                },
                {
                    "name": "Update Operador",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"nombre\": \"Juan Carlos Perez\",\n    \"telefono\": \"+525587654321\",\n    \"genero\": \"masculino\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/v1/operadores/OP-12345",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "operadores",
                                "OP-12345"
                            ]
                        },
                        "description": "Updates an existing operator by their MongoDB _id or custom id_operador. Replace example data with actual values."
                    },
                    "response": []
                },
                {
                    "name": "Delete Operador",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/operadores/OP-12345",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "operadores",
                                "OP-12345"
                            ]
                        },
                        "description": "Deletes an operator by its MongoDB _id or custom id_operador."
                    },
                    "response": []
                },
                {
                    "name": "Search Operadores",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/search/operadores?q=Juan",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "search",
                                "operadores"
                            ],
                            "query": [
                                {
                                    "key": "q",
                                    "value": "Juan"
                                }
                            ]
                        },
                        "description": "Searches for operators by name (using regular expression). Returns a reduced result set."
                    },
                    "response": []
                },
                {
                    "name": "Historial por Operador",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/historial/operador/OP-12345?from=2025-01-01&to=2025-12-31&order_by=fecha&order=desc",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "historial",
                                "operador",
                                "OP-12345"
                            ],
                            "query": [
                                {
                                    "key": "from",
                                    "value": "2025-01-01"
                                },
                                {
                                    "key": "to",
                                    "value": "2025-12-31"
                                },
                                {
                                    "key": "order_by",
                                    "value": "fecha"
                                },
                                {
                                    "key": "order",
                                    "value": "desc"
                                }
                            ]
                        },
                        "description": "Retrieves the history of dictamenes for a specific operator. Supports date filtering, sorting, and pagination."
                    },
                    "response": []
                },
                {
                    "name": "Get BPM Range for Operador",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/rangobpm/OP-12345",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "rangobpm",
                                "OP-12345"
                            ]
                        },
                        "description": "Calculates the recommended minimum and maximum BPM range for a given operator based on their age and risk factors."
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Tractos",
            "item": [
                {
                    "name": "Get All Tractos",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/tractos?page=1&per_page=10&order_by=created_at&order=desc",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "tractos"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "per_page",
                                    "value": "10"
                                },
                                {
                                    "key": "order_by",
                                    "value": "created_at"
                                },
                                {
                                    "key": "order",
                                    "value": "desc"
                                }
                            ]
                        },
                        "description": "Retrieves a paginated list of all tractos. Supports filtering by 'placas', 'marca', 'modelo', 'activo', sorting, and pagination. Default per_page is 10."
                    },
                    "response": []
                },
                {
                    "name": "Get Tracto by ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/tractos/TR-54321",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "tractos",
                                "TR-54321"
                            ]
                        },
                        "description": "Retrieves a single tracto by its MongoDB _id or custom id_tracto."
                    },
                    "response": []
                },
                {
                    "name": "Create Tracto",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"id_tracto\": \"TR-54321\",\n    \"placas\": \"ABC123\",\n    \"marca\": \"Volvo\",\n    \"modelo\": \"FH16\",\n    \"activo\": true,\n    \"is_engine_on\": false\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/v1/tractos",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "tractos"
                            ]
                        },
                        "description": "Creates a new tracto. Replace example data with actual values. `id_tracto` must be unique."
                    },
                    "response": []
                },
                {
                    "name": "Update Tracto",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"modelo\": \"FH16 2023\",\n    \"activo\": false,\n    \"is_engine_on\": true\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/v1/tractos/TR-54321",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "tractos",
                                "TR-54321"
                            ]
                        },
                        "description": "Updates an existing tracto by its MongoDB _id or custom id_tracto. Replace example data with actual values."
                    },
                    "response": []
                },
                {
                    "name": "Delete Tracto",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/tractos/TR-54321",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "tractos",
                                "TR-54321"
                            ]
                        },
                        "description": "Deletes a tracto by its MongoDB _id or custom id_tracto."
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Viajes",
            "item": [
                {
                    "name": "Get All Viajes",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/viajes?page=1&per_page=10&order_by=fecha&order=desc",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "viajes"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "per_page",
                                    "value": "10"
                                },
                                {
                                    "key": "order_by",
                                    "value": "fecha"
                                },
                                {
                                    "key": "order",
                                    "value": "desc"
                                }
                            ]
                        },
                        "description": "Retrieves a paginated list of all viajes. Supports filtering by 'origen', 'destino', 'operador_id', 'tracto_id', 'estado', 'from', 'to', sorting, and pagination. Default per_page is 10."
                    },
                    "response": []
                },
                {
                    "name": "Get Viaje by ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/viajes/VJ-98765",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "viajes",
                                "VJ-98765"
                            ]
                        },
                        "description": "Retrieves a single viaje by its MongoDB _id or custom id_viaje."
                    },
                    "response": []
                },
                {
                    "name": "Create Viaje",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"id_viaje\": \"VJ-98765\",\n    \"origen\": \"Mexico City\",\n    \"destino\": \"Guadalajara\",\n    \"fecha\": \"2025-09-23T10:00:00Z\",\n    \"operador_id\": \"OP-12345\",\n    \"tracto_id\": \"TR-54321\",\n    \"estado\": \"pendiente\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/v1/viajes",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "viajes"
                            ]
                        },
                        "description": "Creates a new viaje. Replace example data with actual values. `id_viaje` must be unique. `operador_id` and `tracto_id` should be valid IDs from existing operators and tractos."
                    },
                    "response": []
                },
                {
                    "name": "Update Viaje",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"estado\": \"en_curso\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/v1/viajes/VJ-98765",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "viajes",
                                "VJ-98765"
                            ]
                        },
                        "description": "Updates an existing viaje by its MongoDB _id or custom id_viaje. Replace example data with actual values."
                    },
                    "response": []
                },
                {
                    "name": "Change Viaje Estado",
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"estado\": \"completado\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/v1/viajes/VJ-98765/estado",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "viajes",
                                "VJ-98765",
                                "estado"
                            ]
                        },
                        "description": "Changes the status of a viaje by its MongoDB _id or custom id_viaje. Valid states: 'pendiente', 'en_curso', 'completado', 'cancelado'."
                    },
                    "response": []
                },
                {
                    "name": "Delete Viaje",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/viajes/VJ-98765",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "viajes",
                                "VJ-98765"
                            ]
                        },
                        "description": "Deletes a viaje by its MongoDB _id or custom id_viaje."
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Dictamenes",
            "item": [
                {
                    "name": "Get All Dictamenes",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/dictamenes?page=1&per_page=10&order_by=fecha&order=desc",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "dictamenes"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "per_page",
                                    "value": "10"
                                },
                                {
                                    "key": "order_by",
                                    "value": "fecha"
                                },
                                {
                                    "key": "order",
                                    "value": "desc"
                                }
                            ]
                        },
                        "description": "Retrieves a paginated list of all dictamenes. Supports filtering by 'operador_id', 'viaje_id', 'apto', 'from', 'to', sorting, and pagination. Default per_page is 10."
                    },
                    "response": []
                },
                {
                    "name": "Get Dictamen by ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/dictamenes/65f1a2b3c4d5e6f7a8b9c0d1",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "dictamenes",
                                "65f1a2b3c4d5e6f7a8b9c0d1"
                            ]
                        },
                        "description": "Retrieves a single dictamen by its MongoDB _id."
                    },
                    "response": []
                },
                {
                    "name": "Create Dictamen (Web/App)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"viaje_id\": \"VJ-98765\",\n    \"operador_id\": \"OP-12345\",\n    \"tracto_id\": \"TR-54321\",\n    \"apto\": true,\n    \"bmp\": 120,\n    \"fecha\": \"2025-09-23T14:05:00Z\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/v1/dictamenes",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "dictamenes"
                            ]
                        },
                        "description": "Creates a new dictamen from a web or mobile application. Requires JWT token. Replace example data with actual values. `operador_id`, `viaje_id`, `tracto_id` should be valid IDs from existing records."
                    },
                    "response": []
                },
                {
                    "name": "Create Dictamen (Device)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "x-device-key",
                                "value": "{{deviceKey}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"viaje_id\": \"VJ-98765\",\n    \"operador_id\": \"OP-12345\",\n    \"tracto_id\": \"TR-54321\",\n    \"apto\": false,\n    \"bmp\": 132,\n    \"fecha\": \"2025-09-23T14:05:00Z\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/v1/dictamenes",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "dictamenes"
                            ]
                        },
                        "description": "Creates a new dictamen from a device. Requires 'x-device-key' header. Replace example data with actual values. `operador_id`, `viaje_id`, `tracto_id` should be valid IDs from existing records."
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Alertas",
            "item": [
                {
                    "name": "Get All Critical Alertas",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/alertas?page=1&per_page=10&order_by=fecha&order=desc",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "alertas"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "per_page",
                                    "value": "10"
                                },
                                {
                                    "key": "order_by",
                                    "value": "fecha"
                                },
                                {
                                    "key": "order",
                                    "value": "desc"
                                }
                            ]
                        },
                        "description": "Retrieves a paginated list of all critical alerts (tipo=no_apto). Supports filtering by 'leida', 'operador_id', 'from', 'to', sorting, and pagination. Default per_page is 10."
                    },
                    "response": []
                },
                {
                    "name": "Mark Alerta as Read",
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{jwtToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/v1/alertas/65f1a2b3c4d5e6f7a8b9c0d2/leida",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "v1",
                                "alertas",
                                "65f1a2b3c4d5e6f7a8b9c0d2",
                                "leida"
                            ]
                        },
                        "description": "Marks an alert as read by its MongoDB _id."
                    },
                    "response": []
                }
            ]
        }
    ],
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Pre-request script can be used for setting up variables or headers"
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Global test script for common assertions",
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});"
                ]
            }
        }
    ],
    "variable": [
        {
            "key": "baseUrl",
            "value": "http://127.0.0.1:8000/api",
            "type": "string",
            "description": "Base URL for the API"
        },
        {
            "key": "deviceKey",
            "value": "ESP32-KEY-123",
            "type": "string",
            "description": "Device key for hardware authentication"
        },
        {
            "key": "jwtToken",
            "value": "",
            "type": "string",
            "description": "JWT token for authenticated requests"
        }
    ],
    "auth": null,
    "protocolProfileBehavior": {}
}